<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nchu.anti_japan_history.webpage.mapper.NewspaperMapper">
    <resultMap id="newspaperMap" type="com.nchu.anti_japan_history.webpage.entity.Newspaper">
        <id column="newspaperId" property="newspaperId" jdbcType="INTEGER"/>
        <result column="newspaperName" property="newspaperName" jdbcType="VARCHAR"/>
        <result column="newspaperPicture" property="newspaperPicture" jdbcType="VARCHAR"/>
        <result column="newspaperPath" property="newspaperPath" jdbcType="VARCHAR"/>
        <result column="principalPerson" property="principalPerson" jdbcType="VARCHAR"/>
        <result column="publishing" property="publishing" jdbcType="VARCHAR"/>
        <result column="placeOfPublication" property="placeOfPublication" jdbcType="VARCHAR"/>
        <result column="publicationTime" property="publicationTime" jdbcType="VARCHAR"/>
        <result column="newspaperState" property="newspaperState" jdbcType="INTEGER"/>
        <result column="newspaperContribution" property="newspaperContribution" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="newspaperListAll" resultMap="newspaperMap">
        SELECT * FROM newspaper;
    </select>

    <insert id="newspaperSave" parameterType="com.nchu.anti_japan_history.webpage.entity.Newspaper">
        INSERT INTO newspaper(newspaperName,newspaperPicture,newspaperPath, principalPerson,publishing,placeOfPublication,publicationTime,newspaperState,newspaperContribution)
        VALUES (#{newspaperName},#{newspaperPicture},#{newspaperPath},#{principalPerson},#{publishing},#{placeOfPublication},#{publicationTime},#{newspaperState},#{newspaperContribution})
    </insert>

    <!--<select id="listAll" resultMap="departMap">
        SELECT departId,departName,departmentLeading,departmentNum,departmentAddress,departmentResponsible
        FROM department_message
    </select>-->

    <!--<delete id="delete">
        DELETE FROM department_message WHERE departId = #{departId};
    </delete>

    <insert id="save" parameterType="cn.nchu.edu.software.policeManager.entity.DepartmentMessage">
        INSERT INTO department_message(departName,departmentAddress,departmentLeading, departmentNum,departmentResponsible)
        VALUES (#{departName},#{departmentAddress},#{departmentLeading},#{departmentNum},#{departmentResponsible})
    </insert>

    <update id="update" parameterType="cn.nchu.edu.software.policeManager.entity.DepartmentMessage">
        UPDATE department_message SET departName=#{departName},departmentAddress=#{departmentAddress},
        departmentLeading=#{departmentLeading},departmentNum=#{departmentNum},departmentResponsible=#{departmentResponsible}
        WHERE departId=#{departId}
    </update>

    <select id="selectDepartId" resultMap="departMap">
        SELECT departId,departName,departmentLeading,departmentNum,departmentAddress,departmentResponsible
        FROM department_message
        WHERE departId = #{departId}
    </select>

    <select id="queryByKeyword" resultMap="departMap">
        SELECT departId,departName,departmentLeading,departmentNum,departmentAddress,departmentResponsible
        FROM department_message
        <where>
            <if test="keyword!=null">
                <bind name="keywordLike" value="'%'+keyword+'%'"></bind>
                AND ((departName LIKE #{keywordLike}) OR (departmentLeading LIKE #{keywordLike})
                OR (departmentNum LIKE #{keywordLike}) OR (departmentAddress LIKE #{keywordLike})
                OR (departmentResponsible LIKE #{keywordLike}))
            </if>
        </where>
    </select>-->

</mapper>